import requests
import json

# Test the admin login endpoint
url = "http://localhost:5000/api/admin/login"
data = {
    "username": "admin",
    "password": "strongpassword"
}

try:
    response = requests.post(url, json=data)
    print(f"Status Code: {response.status_code}")
    print(f"Response: {response.text}")
    
    if response.status_code == 200:
        # Try to access reservations
        cookies = response.cookies
        reservations_url = "http://localhost:5000/api/admin/reservations"
        reservations_response = requests.get(reservations_url, cookies=cookies)
        print(f"Reservations Status: {reservations_response.status_code}")
        print(f"Reservations Response: {reservations_response.text}")
except Exception as e:
    print(f"Error: {e}")